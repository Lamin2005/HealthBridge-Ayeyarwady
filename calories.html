<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calorie Calculator</title>
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">

   
    <style>

        body {
            font-family: 'Poppins', sans-serif;
            background:url(images/bg-risk-screener.jpg);
            color: #333;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        h2{
            font-size: 1.5rem;
            color: #0077cc;
            margin: 0;
        }

        .main-container {
            display: flex;
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 100%;
            overflow: hidden;
        }

        /* Form Container */
        .form-container {
            flex: 1;
            padding: 40px 30px;
            background-color: #ffffff;
        }

        .headingtext {
            font-size: 1rem;
            margin-bottom: 20px;
            color:#007bff;
            text-align: center;
        }

        label {
            display: block;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 8px;
            text-align: left;
        }

        input, select {
            width: 90%;
            padding: 12px 15px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s;
        }

        input:focus, select:focus {
            border-color: #0077cc;
            outline: none;
            box-shadow: 0 0 5px rgba(76, 175, 80, 0.3);
        }

        #button {
            width: 100%;
            padding: 15px 0;
            background-color:#007bff;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        #button:hover {
            background-color: #007bffd4;
        }

        /* Result Container */
        .result-container {
            flex: 1;
            background-color: #aaf0fa;
            padding: 30px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            border-left: 2px solid #e0e4e8;
        }

        .result-container h2 {
            font-size: 1.5rem;
            color: #007bffd4;
            margin-bottom: 15px;
        }

        .result {
            font-size: 1.1rem;
            color: #555;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .result strong {
            color: #007bffd4;
        }

        .highlight {
            background-color: white;
            padding: 10px;
            border-left: 4px solid #007bffd4;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #555;
        }

        .language-toggle {
            padding: 10px 20px;
            cursor: pointer;
            border:2px solid black;
            color: white;
            font-size: 10px;
            border-radius: 5px;
            transition: background-color 0.3s, color 0.3s;
	        font-family: Arial, sans-serif;
            text-align: center;
		}

        .main{
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .header{
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .header img{
            width: 40px;
            height: 40px;
            margin-bottom: 20px;
        }


        /* Responsive Design */
        @media (max-width: 768px) {
            .main-container {
                margin-top: 15rem;
                flex-direction: column;
            }

            .result-container {
                border-left: none;
                border-top: 2px solid #e0e4e8;
            }
        }
    </style>
</head>
<body>



<div class="main">
    <div class="main-container">
        <!-- Form Container -->
        <div class="form-container">
            <div class="header">
                <img src="images/BMR_new.webp" alt="">
                <h2>Calculate Your Calorie</h2>
            </div>
           
            
            <label for="gender">Gender</label>
            <select id="gender">
                <option value="male"> အမျိုးသား</option>
                <option value="female">အမျိုးသမီး</option>
            </select>
    
            <label for="age">အသက်အရွယ် (years) </label>
            <input type="number" id="age" placeholder="eg.20" min="10" max="120" required>
    
            <label for="weight">ကိုယ်အလေးချိန် (kg)</label>
            <input type="number" id="weight" placeholder="eg.60" min="20" max="300" required>
    
            <label for="height">အရပ်အမြင့် (cm)</label>
            <input type="number" id="height" placeholder="eg.175" min="50" max="250" required>
    
            <label for="activity">Activity Level</label>
            <select id="activity" >
                <option value="1.2">အထိုင်များခြင်း (လေ့ကျင့်ခန်းနည်းနည်း သို့မဟုတ် လုံးဝမလုပ်ပါ)</option>
                <option value="1.375">ပေါ့ပေါ့ပါးပါး လှုပ်ရှားပါ (အပေါ့စားလေ့ကျင့်ခန်း တစ်ပတ်လျှင် ၁-၃ ရက်)</option>
                <option value="1.55">တော်ရုံတန်ရုံ တက်ကြွမှု (အလယ်အလတ်လေ့ကျင့်ခန်း တစ်ပတ်လျှင် ၃-၅ ရက်)၊</option>
                <option value="1.725">အလွန်တက်ကြွပါ (အပြင်းအထန်လေ့ကျင့်ခန်း တစ်ပတ်လျှင် ၆-၇ ရက်)</option>
                <option value="1.9">အလွန်တက်ကြွခြင်း (အလွန်ပြင်းထန်သောလေ့ကျင့်ခန်း၊ ကိုယ်လက်လှုပ်ရှားမှု)</option>
            </select>
    
            <button onclick="calculateCalories()" id="button">🔥 တွက်ချက်ပါ</button>
        </div>
    
        <!-- Result Container -->
        <div class="result-container">
            <h2>တွက်ချက် မှုရလဒ်</h2>
            <div class="result" id="result">BMR and TDEE တွက်ချက်ခြင်းကို အွန်လိုင်းကနေ တွက်လို့ရပါပြီ</div>
            <div class="highlight" id="tips">
                📘 အကြံပြုချက်- ကိုယ်အလေးချိန်လျှော့ချရန် သင့် TDEE ထက် ကယ်လိုရီ 500-1000 လျှော့စားပါ။
            </div>
            <a href="healthytools.html" ><button style="cursor: pointer;padding: 10px;background-color: #007bffd4 ;color: white;border: none;margin-top: 10px;border-radius: 10px;">< နောက်သို့</button></a>
        </div> 
    </div>
</div>


<script>
    function calculateCalories() {
    // Get input values
    const gender = document.getElementById('gender').value;
    const age = parseFloat(document.getElementById('age').value);
    const weight = parseFloat(document.getElementById('weight').value);
    const height = parseFloat(document.getElementById('height').value);
    const activity = parseFloat(document.getElementById('activity').value);

    // Get logged-in user ID from session storage
    let loggedInUser = JSON.parse(sessionStorage.getItem("loggedInUser"));
    if (!loggedInUser || !loggedInUser.id) {
        alert("No logged-in user found!");
        return;
    }

    let userId = loggedInUser.id; // Get user ID

    // Validate input
    if (isNaN(age) || isNaN(weight) || isNaN(height)) {
        document.getElementById('result').innerText = '❌ Please enter valid values for age, weight, and height.';
        return;
    }

    // Calculate BMR (Mifflin-St Jeor Equation)
    let bmr;
    if (gender === 'male') {
        bmr = 10 * weight + 6.25 * height - 5 * age + 5;
    } else {
        bmr = 10 * weight + 6.25 * height - 5 * age - 161;
    }

    // Calculate Total Daily Energy Expenditure (TDEE)
    const tdee = bmr * activity;

    // Display the current result
    document.getElementById('result').innerHTML = `
        🧪 Basal Metabolic Rate (BMR): <strong>${bmr.toFixed(2)} calories/day</strong><br>
        🚀 Total Daily Energy Expenditure (TDEE): <strong>${tdee.toFixed(2)} calories/day</strong>
    `;

    // Get previous calorie records from local storage
    let calorieRecords = JSON.parse(localStorage.getItem("calories")) || [];

    // Create a new calorie record
    let newRecord = {
        id: userId,
        bmr: bmr.toFixed(2),
        tdee: tdee.toFixed(2),
        date: new Date().toLocaleString()
    };

    // Save the new record in local storage
    calorieRecords.push(newRecord);
    localStorage.setItem("calories", JSON.stringify(calorieRecords));
}

</script>



  

</body>
</html>
